---
layout: post
title:  "äºŒåˆ†æŸ¥æ‰¾"
date:   2020-04-19 14:10:06 +0800--
categories: [æ•°æ®ç»“æ„]
tags: [æ•°æ®ç»“æ„, ]  

---

# å‰è¨€

ä¹‹å‰çœ‹äº†labuladongçš„äºŒåˆ†æ¨¡ç‰ˆï¼Œä»¥ä¸ºè‡ªå·±æ‡‚äº†ï¼Œç»“æœé‡åˆ°é¢˜ç›®è¿˜æ˜¯åˆ°å¤„åƒç˜ªï¼Œå„ç§ç»†èŠ‚ç›´æ¥ç—›è‹¦é¢å…·æ”¾å¼ƒæ€è€ƒ ğŸ˜­

æœ€è¿‘çœ‹åˆ°ä¸€ä¸ªè®²äºŒåˆ†æŸ¥æ‰¾çš„è§†é¢‘ï¼Œæ„Ÿè§‰æˆ‘åˆè¡Œäº†ï¼ç‰¹æ­¤è®°å½•ä¸€ä¸‹è¯¥æ–¹æ³•ï¼Œä¸»è¦æ€æƒ³å°±æ˜¯ï¼šæŠŠçº¢è“åŒºåŸŸå›ºå®šï¼Œç„¶åé€šè¿‡é€‰æ‹©è¿”å›çš„rï¼Œlè·å¾—ä¸Šç•Œå’Œä¸‹ç•Œï¼Œè¿™æ ·å–åŒºåŸŸä¸è¿”å›å€¼å¯ä»¥æ›´åŠ çµæ´»å¤šå˜ã€‚

æ¯”å¦‚ åœ¨ä¸€æ®µé›†åˆé‡Œ [1,2,3,5,5,5,8,9] å¯ä»¥æœ‰å››ç§æƒ…å†µ ï¼Œè¦å¦‚ä½•è¿›è¡ŒäºŒåˆ†çš„è®¾è®¡ï¼Ÿ

1. æ‰¾åˆ°ç¬¬ä¸€ä¸ª `>=5` çš„å…ƒç´  
2. æ‰¾åˆ°æœ€åä¸€ä¸ª`<5` çš„å…ƒç´  
3. æ‰¾åˆ°ç¬¬ä¸€ä¸ª `>5 `çš„å…ƒç´ 
4. æ‰¾åˆ°æœ€åä¸€ä¸ª `<=5` çš„å…ƒç´  

![image-20210419104749739](/assets/imgs/image-20210419104749739.png)





# ç®—æ³•æµç¨‹

å¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥å°†äºŒåˆ†æŸ¥æ‰¾ä»»åŠ¡è½¬æ¢ä¸ºå¯»æ‰¾å…¶ `è“çº¢è¾¹ç•Œ` ï¼Œå³æ±‚å‡ºæœªçŸ¥æ•°K-1å’ŒKçš„ä½ç½®ã€‚ï¼ˆtarget=5ï¼‰

![image-20210419105129479](/assets/imgs/image-20210419105129479.png)

1ï¼‰é¦–å…ˆæ•´ä¸ªæ•°ç»„éƒ½æ˜¯ç°è‰²çš„ï¼Œè“çº¢æŒ‡é’ˆä¸ºåˆ«åˆå§‹åŒ–ä½-1å’Œæ•°ç»„é•¿åº¦lengthã€‚é¦–å…ˆæŸ¥çœ‹æ•°ç»„æœ€ä¸­é—´çš„å…ƒç´  `4` ä¸ºè“è‰²ï¼Œæ‰€ä»¥å°†è“è‰²è¾¹ç•Œç›´æ¥æ‰©å±•åˆ°è¯¥å…ƒç´ æ‰€åœ¨ä½ç½®ã€‚

![image-20210419105949499](/assets/imgs/image-20210419105949499.png)

2ï¼‰ç»§ç»­ä¸Šè¿°æ­¥éª¤ï¼Œè§‚å¯Ÿç°è‰²åŒºåŸŸä¸­æœ€ä¸­é—´çš„å…ƒç´  `6` ä¸ºçº¢è‰²ï¼Œæ‰€ä»¥å°†çº¢è‰²æŒ‡é’ˆæ‰©å±•åˆ°è¯¥å…ƒç´ æ‰€åœ¨çš„ä½ç½®ã€‚

![image-20210419110149133](/assets/imgs/image-20210419110149133.png)

3ï¼‰ä¸€ç›´é‡å¤æ‰§è¡Œä¸Šè¿°æ“ä½œï¼Œæœ€åå°±èƒ½å¤Ÿæ‰¾åˆ°è“çº¢è¾¹ç•Œï¼š

![image-20210419110252619](/assets/imgs/image-20210419110252619.png)



# ä¼ªä»£ç 

- åˆå§‹ï¼š`l` æŒ‡å‘è“è‰²åŒºåŸŸï¼Œ `r` æŒ‡å‘çº¢è‰²åŒºåŸŸ
- å¾ªç¯ï¼š `l` ã€ `r`  å¿«é€Ÿå‘è“çº¢è¾¹ç•Œé€¼è¿‘ï¼Œ**å¹¶ä¿æŒ  `l` ã€ `r`   é¢œè‰²ä¸æ”¹å˜**
- ç»“æŸï¼š `l` ã€ `r`  åˆšå¥½æŒ‡å‘è“çº¢è¾¹ç•Œ

```java
l = -1, r = N // é¦–å…ˆåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼ŒlæŒ‡å‘-1ï¼ŒræŒ‡å‘æ•°ç»„é•¿åº¦N
while (l+1 ï¼= r){ // å¾ªç¯ç›´è‡³l+1 = r
  m = (l+r)/2 // æ±‚å‡ºç°è‰²æ•°ç»„ä¸­é—´å…ƒç´ çš„ä½ç½®ï¼Œå¹¶å‘ä¸‹å–æ•´
  if isBlue(m) l = m // å¦‚æœlçš„é¢œè‰²ä¸ºè“è‰²ï¼Œå°±æŠŠè“è‰²åŒºåŸŸæ‹“å±•åˆ°m (æŠŠ m èµ‹å€¼ç»™ å·¦æŒ‡é’ˆ)
  else r = m // å¦åˆ™çº¢è‰²åŒºåŸŸæ‰©å±•åˆ°m (æŠŠmèµ‹å€¼ç»™å³æŒ‡é’ˆ)
}
return l or r  // æ­¤æ—¶çš„lå’Œråˆšåˆšå¥½æŒ‡å‘è“çº¢è¾¹ç•Œï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿”å›lè¿˜æ˜¯r
```



# ç»†èŠ‚é—®é¢˜

> ç»†èŠ‚1ï¼šä¸ºä»€ä¹ˆ l çš„åˆå§‹å€¼ä¸º-1 ï¼Œr çš„åˆå§‹å€¼ä¸º N

å½“låˆå§‹åŒ–ä¸º0çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ•´ä¸ªæ•°ç»„éƒ½æ˜¯çº¢è‰²ï¼Œlä¸€å¼€å§‹åˆ™ä¼šè½äºçº¢è‰²åŒºåŸŸå†…ã€‚råˆå§‹åŒ–ä¸ºN-1åŒç†ã€‚

![image-20210419133318776](/assets/imgs/image-20210419133318776.png)



> ç»†èŠ‚2ï¼šm æ˜¯å¦æ˜¯ç§å¤„äº[0,N)çš„å·¦é—­å³å¼€åŒºé—´ä»¥å†…

åªæœ‰`m`å±äº[0,N)çš„å·¦é—­å³å¼€åŒºé—´ä»¥å†…ï¼ŒisBlue(m) åˆ¤æ–­é¢œè‰²æ‰æ˜¯æœ‰æ„ä¹‰çš„ã€‚

å…ˆæ¥çœ‹`m`çš„ä¸‹ç•Œï¼šå› ä¸º `m = (l+r)/2`, åªè¦è®©`l`ã€`r`å°½å¯èƒ½çš„å°å³å¯ã€‚`l`çš„æœ€å°å€¼å³ä¸ºä»–çš„åˆå§‹å€¼`-1`ï¼Œå¯¹äº`r` è€Œè¨€ï¼Œå¦‚æœä»–èƒ½è¿›å…¥å¾ªç¯ä½“ï¼Œä»–çš„æœ€å°å€¼ä¸º`1`ã€‚ å› æ­¤`m`çš„æœ€å°å€¼å³ä¸º `(-1+1)/2=0`ã€‚

å†æ¥çœ‹`m`çš„ä¸Šç•Œï¼šè¦è®©`l`ã€`r`å°½å¯èƒ½çš„å¤§å³å¯ï¼Œ`r` çš„æœ€å¤§å€¼ä¸º Nï¼Œ `l` åˆ™ä¸ºN-2 ï¼Œ `m` çš„æœ€å¤§å€¼åˆ™ä¸º N-1ã€‚

å› æ­¤ `m` å§‹ç»ˆå¤„äºäº[0,N)çš„å·¦é—­å³å¼€åŒºé—´ä»¥å†…ï¼Œå³`m`ä¸ä¼šæº¢å‡ºã€‚

> ç»†èŠ‚3ï¼šæ›´æ–°æŒ‡é’ˆçš„æ—¶å€™ï¼Œèƒ½ä¸èƒ½å†™æˆ l = m +1 æˆ–è€… r = m - 1

å¯¹äºä¸‹å›¾çš„æƒ…å†µï¼Œåœ¨æŸæ¬¡å¾ªç¯ä¸­`m`åˆšåˆšå¥½æŒ‡å‘è“è‰²åŒºåŸŸçš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœ `l = m +1` å°±ä¼šè®©læŒ‡å‘çº¢è‰²åŒºåŸŸé€ æˆäº†é”™è¯¯ã€‚` r = m - 1`åŒç†ã€‚

![image-20210419134458329](/assets/imgs/image-20210419134458329.png)

> ç»†èŠ‚4ï¼šç¨‹åºä¼šä¸ä¼šé™·å…¥æ­»å¾ªç¯

æ— è®º`l`å’Œ`r` ä¹‹é—´éš”äº†å¤šå°‘ä¸ªå…ƒç´ ï¼Œéƒ½ä¸€å®šä¼šé€€åŒ–åˆ°ç¬¬ä¸€ç§æƒ…å†µå¹¶é€€å‡ºå¾ªç¯ã€‚

 ![image-20210419135430099](/assets/imgs/image-20210419135430099.png)



# æ€»ç»“

å¯¹äºå‰è¨€ä¸­çš„é—®é¢˜ï¼Œç»“åˆä»¥ä¸Šåˆ†æå¯å½’çº³å‡ºäºŒåˆ†æŸ¥æ‰¾è®¾è®¡çš„ä¸€èˆ¬æµç¨‹ï¼š

- å»ºæ¨¡ï¼šåˆ’åˆ†è“çº¢åŒºåŸŸï¼Œç¡®å®š `isBlue()`å‡½æ•°çš„æ¡ä»¶
- ç¡®å®šè¿”å›`l` è¿˜æ˜¯ `r`
- å¥—ç”¨ä¼ªä»£ç æ¨¡ç‰ˆ
- å¦‚æœæœ‰éœ€è¦åˆ™åŠ å…¥ä¸€ä¸‹åå¤„ç†é€»è¾‘

![image-20210419140058088](/assets/imgs/image-20210419140058088.png)



```java
// case1: å¯»æ‰¾ç¬¬ä¸€ä¸ª >=5 çš„å…ƒç´ 
private int binarySearch(int[] arr) {
  int left = -1;
  int right = arr.length;

  while (left+1!=right){
    int m = (right-left)/2 + left;
    if (arr[m]<5){
      left = m;
    }else {
      right = m;
    }

  }
  return right;
}
// case2: å¯»æ‰¾æœ€åä¸€ä¸ª <5 çš„å…ƒç´ 
private int binarySearch(int[] arr) {
  int left = -1;
  int right = arr.length;

  while (left+1!=right){
    int m = (right-left)/2 + left;
    if (arr[m]<5){
      left = m;
    }else {
      right = m;
    }

  }
  return left;
}
// case3: å¯»æ‰¾ç¬¬ä¸€ä¸ª >5 çš„å…ƒç´ 
private int binarySearch(int[] arr) {
  int left = -1;
  int right = arr.length;

  while (left+1!=right){
    int m = (right-left)/2 + left;
    if (arr[m]<=5){
      left = m;
    }else {
      right = m;
    }

  }
  return right;
}
// case4: å¯»æ‰¾æœ€åä¸€ä¸ª <=5 çš„å…ƒç´ 
private int binarySearch(int[] arr) {
  int left = -1;
  int right = arr.length;

  while (left+1!=right){
    int m = (right-left)/2 + left;
    if (arr[m]<=5){
      left = m;
    }else {
      right = m;
    }

  }
  return right;
}
```

