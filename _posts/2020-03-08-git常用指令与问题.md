---
layout: post
title:  "git常用指令与问题"
date:   2020-03-08 22:12:06 +0800--
categories: [git]
tags: [git]  
---



# 😈git常用指令

#### 远程仓库相关命令

1. 查看远程仓库  `git remote -v`
2. 删除远程仓库 `git remote rm [name]`
3. 修改远程仓库 `git remote set -url --push [name][newUrl]`
4. 拉取远程仓库 `git pull [remoteName] [localBranchName]/git pull origin master`
5. 推送远程仓库`git push -u [remoteName] [localBranchName]/git push -u origin master`



#### 提交代码

1. `git add .`（后面有一个点，意思是将你本地所有修改了的文件添加到暂存区）

2. `git commit -m ""`(引号里面是你的介绍，就是你的这次的提交是什么内容，便于你以后查看，这个是将索引的当前内容与描述更改的用户和日志消息一起存储在新的提交中)

3. `git pull origin 远程分支名` 这是下拉代码，将远程最新的代码先跟你本地的代码合并一下，如果确定远程没有更新，可以不用这个，最好是每次都执行以下，完成之后打开代码查看有没有冲突，并解决，如果有冲突解决完成以后再次执行1跟2的操作



#### 分支(branch)操作相关命令

1. 查看本地分支`git branch`

2. 查看远程分支`git branch -r`

3. 创建本地分支`git branch [name] ----注意新分支创建后不会自动切换为当前分支`

4. 切换分支`git checkout [name]`

5. 创建新分支并立即切换到新分支`git checkout -b [name]`

6. 删除分支`git branch -d [name] ---- -d选项只能删除已经参与了合并的分支，对于未有合并的分支是无法删除的。如果想强制删除一个分支，可以使用-D选项`

7. 合并分支`git merge [name] ----将名称为[name]的分支与当前分支合并`

8. 创建远程分支(本地分支push到远程)`git push origin [name]`

9. 删除远程分支`git push origin --delete  [name]`

   ```
     如果想把本地的某个分支test提交到远程仓库，并作为远程仓库的master分支，或者作为另外一个名叫test的分支，那么可以这么做。
   
   $ git push origin test:master         // 提交本地test分支作为远程的master分支 //好像只写这一句，远程的github就会自动创建一个test分支
   $ git push origin test:test              // 提交本地test分支作为远程的test分支
   
   如果想删除远程的分支呢？类似于上面，如果:左边的分支为空，那么将删除:右边的远程的分支。
   
   $ git push origin :test              // 刚提交到远程的test将被删除，但是本地还会保存的，不用担心
   ```



#### 版本(tag)操作相关命令

1. 查看版本`git tag`
2. 创建版本`git tag [name]`
3. 删除版本`git tag -d [name]`
4. 查看远程版本`git tag -r`
5. 创建远程版本(本地版本push到远程)`git push origin [name]`
6. 删除远程版本`git push origin :refs/tags/[name]`





# 😈Tag标签的使用

### 一、什么是tag

tag是git版本库的一个标记，指向某个commit的指针。

tag主要用于发布版本的管理，一个版本发布之后，我们可以为git打上 v.1.0.1 v.1.0.2 ...这样的标签。

tag感觉跟branch有点相似，但是本质上和分工上是不同的：

tag 对应某次commit, 是一个点，是不可移动的。
branch 对应一系列commit，是很多点连成的一根线，有一个HEAD 指针，是可以依靠 HEAD 指针移动的。
所以，两者的区别决定了使用方式，改动代码用 branch ,不改动只查看用 tag。
tag 和 branch 的相互配合使用，有时候起到非常方便的效果，例如：已经发布了 v1.0 v2.0 v3.0 三个版本，这个时候，我突然想不改现有代码的前提下，在 v2.0 的基础上加个新功能，作为 v4.0 发布。就可以检出 v2.0 的代码作为一个 branch ，然后作为开发分支。

### 二、tag的简单使用

#### 1.创建tag：

创建 tag 是基于本地分支的 commit，而且与分支的推送是两回事，就是说分支已经推送到远程了，但是你的 tag 并没有，如果把 tag 推送到远程分支上，需要另外执行 tag 的推送命令。

git tag <tagName> //创建本地tag

git push origin <tagName> //推送到远程仓库

若存在很多未推送的本地标签，你想一次全部推送的话：

git push origin --tags

以上是基于本地当前分支的最后的一个commit 创建的 tag ，但是如果不想以最后一个，只想以某一个特定的提交为tag ，也是可以的，只要你知道commit 的id。

git log --pretty=oneline //查看当前分支的提交历史 里面包含 commit id

git tag -a <tagName> <commitId>

#### 2.查看标签

查看本地某个 tag 的详细信息：

git show <tagName>

查看本地所有 tag：

git tag 或者 git tag -l

查看远程所有 tag：

git ls-remote --tags origin

#### 3.删除标签

本地 tag 的删除：

git tag -d <tagName>

远程 tag 的删除：

git push origin :<tagName>

#### 4.检出标签

git checkout -b <branchName> <tagName>

因为 tag 本身指向的就是一个 commit，所以和根据commit id 检出分支是一个道理。

但是需要特别说明的是，如果我们想要修改 tag检出代码分支，那么虽然分支中的代码改变了，但是 tag标记的 commit还是同一个，标记的代码是不会变的，这个要格外的注意。

其它

命令`git tag -a <tagname> -m "XXX..." `可以指定标签信息。

命令git tag -a v0.1.0 -m "release 0.1.0 version" 创建附注标签。

命令git checkout [tagname] 切换标签。



# 😈解决git下载慢的问题

1.登陆 [码云](https://gitee.com/)，选择import Repository

![image-20200308171122915](/assets/imgs/image-20200308171122915-1409889.png)

2.输入需要下载代码的git库连接，在码云生成新的库

![image-20200308172026952](/assets/imgs/image-20200308172026952-1409889.png)

3. 使用git clone 码云的url进行下载

![image-20200308172211223](/assets/imgs/image-20200308172211223-1409889.png)

