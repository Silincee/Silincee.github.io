---
layout: post
title: "ArrayList源码解析"
date: 2020-12-10 11:21:16 +0800--
categories: [Java, ]
tags: [Java, ArrayList, ]  

---

# 一些面试题

***1）ArrayList是什么，可以用来干嘛？***

ArrayList就是数组列表，主要用来装载数据，当我们装载的是基本类型的数据int，long，boolean，short，byte…的时候我们只能存储他们对应的包装类，它的主要底层实现是数组`Object[] elementData`。

与它类似的是LinkedList，和LinkedList相比，**它的查找和访问元素的速度较快，但新增，删除的速度较慢。**

**小结**：ArrayList底层是用数组实现的存储。

**特点**：查询效率高，增删效率低，线程不安全。使用频率很高。



***2）为啥线程 不安全还使用它呢？***

因为我们正常使用的场景中，都是用来查询，不会涉及太频繁的增删，如果涉及频繁的增删，可以使用LinkedList，如果你需要线程安全就使用Vector，这就是三者的区别了，实际开发过程中还是ArrayList使用最多的。

不存在一个集合工具是查询效率又高，增删效率也高的，还线程安全的，至于为啥大家看代码就知道了，因为数据结构的特性就是优劣共存的，想找个平衡点很难，牺牲了性能，那就安全，牺牲了安全那就快速。

⚠️：这里还是强调下大家**不要为了用而用**，我记得我以前最开始工作就有这个毛病。就是不管三七二十一，就是为了用而用，别人用我也用，也不管他的性能啊，是否线程安全啥的，所幸最开始公司接触的，都是线下的系统，而且没啥并发。



***3）您说它的底层实现是数组，但是数组的大小是定长的，如果我们不断的往里面添加数据的话，不会有问题吗？***

ArrayList可以通过构造方法在初始化的时候指定底层数组的大小。

通过无参构造方法的方式`ArrayList()`初始化，则赋值底层数`Object[] elementData`为一个默认空数组

`Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {}`所以数组容量为0，只有真正对数据进行添加`add`时，才分配默认`DEFAULT_CAPACITY = 10` 的初始容量。

大家可以分别看下他的无参构造器和有参构造器，无参就是默认大小，有参会判断参数。

![image-20210117122612602](/Users/silince/Develop/博客/blog_to_git/assets/imgs/image-20210117122612602.png)