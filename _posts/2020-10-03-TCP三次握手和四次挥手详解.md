---
layout: post
title:  "TCP三次握手和四次挥手详解"
date:   2020-10-03 11:25:06 +0800--
categories: [计算机网络]
tags: [计算机网络, 面试题, ]  

---

# TCP 基本认识

## TCP 头部格式

- **序列号**：在建立连接时由计算机生成的随机数作为其初始值，通过 SYN 包传给接收端主机，**<u>每发送一次数据，就「累加」一次该「数据字节数」的大小。用来解决网络包乱序问题。</u>**

- **确认应答号**：指下一次「期望」收到的数据的序列号，发送端收到这个确认应答以后可以认为在这个序号以前的数据都已经被正常接收。**用来解决不丢包的问题。**

- **控制位：**
  - **确认ACK**：该位为 `1` 时，「确认应答」的字段变为有效，TCP 规定除了最初建立连接时的 `SYN` 包之外该位必须设置为 `1` 
  - **复位RST**：该位为 `1` 时，表示 TCP 连接中出现异常必须强制断开连接
  - **同步SYC**：该位为 `1` 时，表示希望建立连，并在其「序列号」的字段进行序列号初始值的设定
  - **终止FIN**：该位为 `1` 时，表示今后不会再有数据发送，希望断开连接。当通信结束希望断开连接时，通信双方的主机之间就可以相互交换 `FIN` 位置为 1 的 TCP 段

![Image](/Users/silince/Develop/博客/blog_to_git/assets/imgs/640-2242020..png)